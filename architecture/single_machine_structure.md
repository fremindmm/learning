## 单机结构专题
1. 计算机基本组成
    1. 基本概念
        1. 数据表示方法
            1. 机器字长
            2. 字节、半字、字
            3. 有符号数和无符号数
            4. 补码、反码、移码
            5. 浮点数和IEEE 754
            6. 大小端
    2. 组成部分
        1. 冯诺依曼体系结构
            1. 存储程序计算机
            2. 部件
                1. 处理器
                    1. 运算器
                    2. 控制器
                2. 存储器
                3. IO设备
        2. 总线和桥
            1. 南桥
            2. 北桥
2. 处理器结构
    1. 指令和指令集
        1. 概念
            1. 机器指令
            2. 指令架构
            3. 指令格式
            4. 地址空间
        2. 关键技术
            1. 存储程序计算机
            2. 虚拟内存
            3. 多任务支持
            4. 特权态
            5. 分段
            6. 分页
        3. 指令集设计
            1. CISC
            2. RISC
            3. 后RISC
        4. 举例
            1. x86
            2. ARM
            3. MIPS
            4. Power
        5. 汇编语言
            1. 操作码
            2. 操作数
            3. 指令类型
            4. 寻址方式
    2. 微架构
        1. 性能提升
            1. 分时
                1. 流水线
                    1. 流水线上的冒险
                        1. 结构冒险 处理器资源冲突
                            1. 解决方法
                                1. 流水线气泡、流水线停顿
                                2. 增加资源
                        2. 数据冒险 数据依赖
                            1. 场景
                                1. 写后读
                                2. 读后写
                                3. 写后写
                            2. 解决方法
                                1. 旁路 绕过寄存器
                                2. 编译优化
                        3. 控制冒险 跳转指令
                            1. 解决
                                1. 暂停流水线
                                2. 分支延迟
                                    1. 编译器填充不相关指令
                                3. 分支预测和投机执行
                    2. 精确中断和精确异常
            2. 乱序执行
                1. 保留站
                    1. 计分板
                    2. Tomasulo算法
                2. 消除反向依赖
                    1. 寄存器重命名
                3. 内存屏障
            3. 并行
                1. 指令并行
                    1. 超标量
                    2. 超流水线
                    3. VLIW
                2. 数据并行
                    1. SIMD
                    2. 向量化指令
                        1. SSE
                        2. MMX
                3. 线程并行
                    1. 多线程分时复用 垂直多线程
                    2. 硬件多线程 同时多线程
                        1. Intel超线程技术
                    3. 多处理器和多核
                        1. 多Cache一致性
                            1. 基于总线侦听的一致性协议
                                1. MESI协议
                            2. 基于目录表的一致性协议
                        2. 处理器芯片互联
                            1. 前端总线
                            2. 点对点
                                1. QPI
            4. 处理器缓存
                1. 理论基础
                    1. 局部性原理
                2. 处理器存储层级
                3. Cache结构
                    1. 工作方式，命中
                    2. 映射方式
                        1. 直接相联
                        2. 全相联
                        3. N路组相连
                    3. 写策略
                        1. 写穿
                        2. 写回
                    4. 替换策略
        2. 性能评估
            1. 性能评价方法
            2. 性能计数器
        3. 处理器接口
            1. 总线
                1. 分类
                    1. 控制总线
                    2. 地址总线
                    3. 数据总线
                2. 总线仲裁
            2. 与内存接口
                1. 内存控制器
            3. 与IO设备接口
                1. 操作方式
                    1. Port IO
                    2. MMIO
                2. 交互方式
                    1. 轮询
                    2. 中断
                        1. 中断向量
                        2. 中断优先级
                        3. 屏蔽中断
                    3. DMA
        4. 虚拟化支持
3. 内存
    1. 内存分类
        1. SRAM
        2. DRAM
            1. 工作原理
                1. 电容存储电荷表示0和1
                2. 漏电流和刷新
    2. 内存颗粒和编址
    3. 内存接口
4. IO设备
    1. PCI总线体系结构
        1. 控制结构
            1. BDF
        2. 配置寄存器和空间头
        3. PCI拓扑和桥
5. 单机程序性能优化方法
    1. 性能剖析
    2. 缩短指令流
        1. 更快算法
        2. 更合适指令
        3. 减少函数调用
        4. 空间换时间
        5. 减少过保护
    3. 使用高效指令
        1. 减少乘除法，多使用移位
        2. 浮点数定点化
        3. 减少分支
        4. 配合分支预测
    4. 优化数据访问
        1. 少使用数组，少使用指针
        2. 少用全局变量
        3. 一次多访问一些数据
        4. 数据对齐访问
        5. 大数据结构时的Cache line对齐
        6. 程序、数据访问符合Cache的时间、空间局部性
        7. 多线程编程时，避免假共享
        8. 自己管理内存动态分配
        9. 隐藏数据搬移时间
    5. 编译优化
        1. 优化选项
        2. 常量计算
        3. 简化表达式
        4. 提取公共语句
        5. 循环展开、软件流水
        6. 自动向量化
        7. 高效数据组织
        8. 指令并行化
    6. 多核加速
        1. OpenMP

```
参考资料（未完成）：
1. 《大话处理器》PPT 赵祯龙
2. 《大话处理器》书 万木杨
3. 《支撑处理器的技术》书 李剑译
4. 《计算机组成原理》书 唐朔飞
5. 《计算机系统结构：一种量化方法》书（第三版）John L.Hennessy, David A.Patterson
6. 《高等计算机系统结构》北大课件 程旭
7. 《计算机系统基础》书 袁春风
8. 《深入理解计算机系统》书 Bryant
```
